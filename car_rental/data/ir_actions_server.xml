<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="create_product" model="ir.actions.server">
        <field name="name">Create Product - Server Actions</field>
        <field name="model_id" ref="fleet.model_fleet_vehicle"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="create_the_product"/>
        <field name="code">
product = env['product.template'].create({
    'name': record.display_name,
    'detailed_type': 'product',
    'rent_ok': True
})
record.write({'x_product_name_fleet': [[6,0, product.ids]]})
        </field>
    </record>
    <record id="update_hours" model="ir.actions.server">
        <field name="name">Update the Hours - Server Actions</field>
        <field name="model_id" ref="account.model_account_analytic_line"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="update_the_hours"/>
        <field name="code">
            <![CDATA[
                record.write({
                    'unit_amount': record.x_studio_total_km
                })
            ]]>
        </field>
    </record>
    <record id="update_stage_in_service" model="ir.actions.server">
        <field name="name">Update Stage When In Service - Server Actions</field>
        <field name="model_id" ref="fleet.model_fleet_vehicle_log_services"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="update_stage_when_in_service"/>
        <!-- <field name="code">
            <![CDATA[
                record.write({
                    'product_type': 'product',
                    'name' : record.display_name,
                    'rent_ok' : True,
                })
            ]]>
        </field> -->
    </record>
    <record id="update_stage_service_done" model="ir.actions.server">
        <field name="name">Update Stage When Service Is Done - Server Actions</field>
        <field name="model_id" ref="fleet.model_fleet_vehicle_log_services"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="update_stage_when_service_done"/>
        <!-- <field name="code">
            <![CDATA[
                record.write({
                    'product_type': 'product',
                    'name' : record.display_name,
                    'rent_ok' : True,
                })
            ]]>
        </field> -->
    </record>
    <record id="update_when_returned" model="ir.actions.server">
        <field name="name">Update Car Status When Returned - Server Actions</field>
        <field name="model_id" ref="sale.model_sale_order_line"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="update_status_when_returned"/>
        <!-- <field name="code">
            <![CDATA[
                record.write({
                    'product_type': 'product',
                    'name' : record.display_name,
                    'rent_ok' : True,
                })
            ]]>
        </field> -->
    </record>
    <record id="update_when_pickedup" model="ir.actions.server">
        <field name="name">Update Stage When Picked Up - Server Actions</field>
        <field name="model_id" ref="sale.model_sale_order_line"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="update_stage_when_pickedup"/>
        <!-- <field name="code">
            <![CDATA[
                record.write({
                    'product_type': 'product',
                    'name' : record.display_name,
                    'rent_ok' : True,
                })
            ]]>
        </field> -->
    </record>
    <record id="update_when_booked" model="ir.actions.server">
        <field name="name">Update Car Status When Booked - Server Actions</field>
        <field name="model_id" ref="sale.model_sale_order_line"/>
        <field name="state">code</field>
        <field name="base_automation_id" ref="update_status_when_booked"/>
        <!-- <field name="code">
            <![CDATA[
                record.write({
                    'product_type': 'product',
                    'name' : record.display_name,
                    'rent_ok' : True,
                })
            ]]>
        </field> -->
    </record>
</odoo>
