<odoo>
    <function model="sale.order" name="action_confirm">
        <value eval="[
            ref('car_rental.sale_order_1'),
            ref('car_rental.sale_order_2'),
            ref('car_rental.sale_order_3'),
            ref('car_rental.sale_order_4'),
            ref('car_rental.sale_order_7')]"/>
    </function>

<!--    Pickup product so1-->
    <record id="car_rental.rental_order_wizard_so1_pickup" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_1"/>
        <field name="status">pickup</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_1').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_2'), 'pickup'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so1_pickup')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so1_pickup')"/>
    </function>

<!--    Return product so1-->
    <record id="car_rental.rental_order_wizard_so1_return" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_1"/>
        <field name="status">return</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_1').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_2'), 'return'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so1_return')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so1_return')"/>
    </function>

    <!--    Pickup product so3-->
    <record id="car_rental.rental_order_wizard_so3_pickup" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_3"/>
        <field name="status">pickup</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_3').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_5'), 'pickup'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so3_pickup')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so3_pickup')"/>
    </function>

<!--    Return product so3-->
    <record id="car_rental.rental_order_wizard_so3_return" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_3"/>
        <field name="status">return</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_3').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_5'), 'return'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so3_return')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so3_return')"/>
    </function>

<!--    Pickup product so4-->
    <record id="car_rental.rental_order_wizard_so4_pickup" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_4"/>
        <field name="status">pickup</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_4').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_7'), 'pickup'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so4_pickup')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so4_pickup')"/>
    </function>

<!--    Return product so4-->
    <record id="car_rental.rental_order_wizard_so4_return" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_4"/>
        <field name="status">return</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_4').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_7'), 'return'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so4_return')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so4_return')"/>
    </function>

<!--    Pickup product so7-->
    <record id="car_rental.rental_order_wizard_so7_pickup" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_7"/>
        <field name="status">pickup</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_7').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_10'), 'pickup'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so7_pickup')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so7_pickup')"/>
    </function>

<!--    Return product so7-->
    <record id="car_rental.rental_order_wizard_so7_return" model="rental.order.wizard">
        <field name="order_id" ref="car_rental.sale_order_7"/>
        <field name="status">return</field>
        <field name="is_late" model="sale.order" eval="obj().env.ref('car_rental.sale_order_7').is_late"/>
    </record>

    <function name="create" model="rental.order.wizard.line">
        <value eval="dict(obj()._default_wizard_line_vals(obj().env.ref('car_rental.sale_order_line_10'), 'return'), **{'rental_order_wizard_id': ref('car_rental.rental_order_wizard_so7_return')})" model="rental.order.wizard.line"/>
    </function>

    <function model="rental.order.wizard" name="apply">
        <value eval="ref('car_rental.rental_order_wizard_so7_return')"/>
    </function>

    <!-- create invoice -->
    <function name="_create_invoices" model="sale.order">
        <value eval="[ref('car_rental.sale_order_2')]"/>
    </function>

    <function name="action_post" model="account.move">
        <value model="sale.order" eval="
            (
                obj().env.ref('car_rental.sale_order_2')
            ).invoice_ids.ids
        "/>
    </function>
</odoo>
